@model SistemaDenuncias.Models.Denuncia

@{
    ViewData["Title"] = "Detalhes da Denúncia: " + Model.Protocolo;
}

<h1>Detalhes da Denúncia</h1>

<div class="card shadow-sm mb-4">
    <div class="card-header bg-primary text-white">
        <h5>Protocolo: @Html.DisplayFor(model => model.Protocolo)</h5>
    </div>
    <div class="card-body">

        <dl class="row">

            <dt class="col-sm-3">
                @Html.DisplayNameFor(model => model.Status)
            </dt>
            <dd class="col-sm-9">
                <span class="badge
                      @(Model.Status == SistemaDenuncias.Models.StatusDenuncia.Aberta ? "bg-success" :
                                              Model.Status == SistemaDenuncias.Models.StatusDenuncia.Analise ? "bg-warning text-dark" :
                                              "bg-danger")">
                    @Html.DisplayFor(model => model.Status)
                </span>
            </dd>

            <dt class="col-sm-3">
                @Html.DisplayNameFor(model => model.TipoDenuncia)
            </dt>
            <dd class="col-sm-9">
                @Html.DisplayFor(model => model.TipoDenuncia)
            </dd>

            <dt class="col-sm-3">
                @Html.DisplayNameFor(model => model.DataCriacao)
            </dt>
            <dd class="col-sm-9">
                @Html.DisplayFor(model => model.DataCriacao)
            </dd>

            <dt class="col-sm-3">
                @Html.DisplayNameFor(model => model.DenunciaAnonima)
            </dt>
            <dd class="col-sm-9">
                @(Model.DenunciaAnonima ? "Sim" : "Não")
            </dd>
        </dl>

        <hr />

        <h6>Descrição do Fato:</h6>
        <p class="card-text border p-3 rounded">
            @Html.DisplayFor(model => model.Descricao)
        </p>

        <h6 class="mt-4">Localização:</h6>
        <dl class="row">
            <dt class="col-sm-3">@Html.DisplayNameFor(model => model.Rua)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(model => model.Rua), @Html.DisplayFor(model => model.Numero)</dd>

            <dt class="col-sm-3">@Html.DisplayNameFor(model => model.Bairro)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(model => model.Bairro)</dd>

            <dt class="col-sm-3">@Html.DisplayNameFor(model => model.Complemento)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(model => model.Complemento)</dd>

            <dt class="col-sm-3">@Html.DisplayNameFor(model => model.Cidade)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(model => model.Cidade) - @Html.DisplayFor(model => model.Estado)</dd>

            <dt class="col-sm-3">@Html.DisplayNameFor(model => model.Cep)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(model => model.Cep)</dd>
        </dl>
    </div>
</div>

<div>
    @* O botão de Edit só aparece se o status não for Fechada *@
    @if (Model.Status != SistemaDenuncias.Models.StatusDenuncia.Fechada)
    {
        <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning">Editar</a>
        <a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-danger">Excluir</a>
    }
    <a asp-action="Index" class="btn btn-secondary">Voltar para a Lista</a>
</div>