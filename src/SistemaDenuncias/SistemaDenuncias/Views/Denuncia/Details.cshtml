@model SistemaDenuncias.Models.Denuncia
@{
    ViewData["Title"] = "Detalhes da Denúncia";
    Layout = "~/Views/Shared/_UsuarioLayout.cshtml";
}

<div class="user-content-wrapper">
    <div class="details-view">
        <h1><i class="bi bi-file-earmark-text"></i> Detalhes da Denúncia</h1>

        <div class="details-row"><div class="details-label">Protocolo:</div><div class="details-value fw-bold text-primary">@Html.DisplayFor(model => model.Protocolo)</div></div>
        <div class="details-row">
            <div class="details-label">Status:</div>
            <div class="details-value">
                @{
                    var statusClass = "status-analise";
                    if (Model.Status == StatusDenuncia.Aberta) { statusClass = "status-aberta"; }
                    else if (Model.Status == StatusDenuncia.Fechada) { statusClass = "status-fechada"; }
                }
                <span class="card-tag @statusClass" style="font-size: 16px;">@Html.DisplayFor(model => model.Status)</span>
            </div>
        </div>
        <div class="details-row"><div class="details-label">Data de Criação:</div><div class="details-value">@Model.DataCriacao.ToString("dd/MM/yyyy 'às' HH:mm")</div></div>
        <div class="details-row"><div class="details-label">Tipo de Denúncia:</div><div class="details-value">@Html.DisplayFor(model => model.TipoDenuncia)</div></div>
        <div class="details-row"><div class="details-label">Descrição:</div><div class="details-value" style="white-space: pre-wrap;">@Html.DisplayFor(model => model.Descricao)</div></div>
        <div class="details-row"><div class="details-label">Denúncia Anônima:</div><div class="details-value">@(Model.DenunciaAnonima ? "Sim" : "Não")</div></div>

        <h5 class="mt-4">Localização Registrada</h5><hr />

        <div class="details-row"><div class="details-label">Endereço:</div><div class="details-value">@($"{Model.Rua}, {Model.Numero} - {Model.Bairro}, {Model.Cidade} - {Model.Estado}")</div></div>
        <div class="details-row"><div class="details-label">CEP:</div><div class="details-value">@Html.DisplayFor(model => model.Cep)</div></div>
        <div class="details-row"><div class="details-label">Complemento:</div><div class="details-value">@Html.DisplayFor(model => model.Complemento)</div></div>

        <div class="form-actions">
            <a asp-action="Index" class="btn-form btn-form-secondary">Voltar</a>
            @if (Model.Status != StatusDenuncia.Fechada)
            {
                <a asp-action="Edit" asp-route-id="@Model.Id" class="btn-form btn-form-primary"><i class="bi bi-pencil"></i> Editar</a>
                <a asp-action="Delete" asp-route-id="@Model.Id" class="btn-form btn-danger"><i class="bi bi-trash"></i> Excluir</a>
            }
        </div>
    </div>
</div>